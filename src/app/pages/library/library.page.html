<ion-header [translucent]="true">
  <ion-toolbar color="secondary">
    <ion-title>Your Library</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
    
  <ion-toolbar>
    <ion-segment [(ngModel)]="selectedStatusFilter" (ionChange)="filterBooks()" value="all">
      
      <ion-segment-button value="all">
        <ion-icon name="library-outline"></ion-icon>
        <ion-label>All</ion-label>
      </ion-segment-button>
      
      <ion-segment-button value="Currently reading">
        <ion-icon name="book-outline"></ion-icon>
        <ion-label>Reading</ion-label>
      </ion-segment-button>
      
      <ion-segment-button value="Want to read">
        <ion-icon name="bookmark-outline"></ion-icon>
        <ion-label>Planned</ion-label>
      </ion-segment-button>
      
      <ion-segment-button value="Read">
        <ion-icon name="checkmark-done-outline"></ion-icon> 
        <ion-label>Done</ion-label>
      </ion-segment-button>
      
    </ion-segment>
  </ion-toolbar>

  <ion-list>
    @for (book of filteredBooks; track book.id) {
      <ion-item detail>
        <ion-label>
          <h2>{{ book.title }} <ion-badge color="tertiary">{{ book.format }}</ion-badge></h2>
          <p>{{ book.author }} ({{ book.genre }})</p>
          <p>Status: <strong>{{ book.status }}</strong></p>
        </ion-label>
        
        <ion-buttons slot="end">
            <ion-button color="primary" (click)="editBookModal(book)">
                <ion-icon name="create-outline"></ion-icon>
            </ion-button>
            <ion-button color="danger" (click)="deleteBook(book.id)">
                <ion-icon name="trash-outline"></ion-icon>
            </ion-button>
        </ion-buttons>
      </ion-item>
    }
    
    <p *ngIf="filteredBooks.length === 0" class="ion-padding ion-text-center">
      No books found in this category.
    </p>

  </ion-list>
  
<ion-fab slot="fixed" vertical="bottom" horizontal="end">
  <ion-fab-button color="primary" (click)="openAddBook()">
    <ion-icon name="add-outline"></ion-icon>
  </ion-fab-button>
</ion-fab>

</ion-content>